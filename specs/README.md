# ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ ëª…ì„¸ì„œ

## ğŸ“‹ ê°œìš”

ì´ ë””ë ‰í† ë¦¬ëŠ” ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ì˜ **ìƒì„¸ ëª…ì„¸(Specification)**ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ëª¨ë“  ëª…ì„¸ëŠ” TDD(Test-Driven Development) ë°©ë²•ë¡ ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ“š ë¬¸ì„œ ëª©ë¡

### 0. TDD ì›Œí¬í”Œë¡œìš°
**íŒŒì¼**: [`00-tdd-workflow.md`](./00-tdd-workflow.md)

- TDD ê°œë°œ í”„ë¡œì„¸ìŠ¤ (RED-GREEN-REFACTOR)
- Given-When-Then íŒ¨í„´ ì‚¬ìš©ë²•
- ëª…ì„¸ â†’ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë³€í™˜ ì˜ˆì‹œ
- í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

**ì½ê¸° ìˆœì„œ**: â­ **1ìˆœìœ„** (í•„ìˆ˜)

---

### 1. API ëª…ì„¸
**íŒŒì¼**: [`01-repeat-api-spec.md`](./01-repeat-api-spec.md)

- ë°˜ë³µ ì¼ì • ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ ì •ì˜
- ìš”ì²­/ì‘ë‹µ í˜•ì‹
- ì—ëŸ¬ ì²˜ë¦¬ ê·œì¹™
- ë°ì´í„° íƒ€ì… (RepeatInfo)

**ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸**:
- `POST /api/events-list` - ì—¬ëŸ¬ ì¼ì • ë™ì‹œ ìƒì„±
- `PUT /api/events/:id` - ë‹¨ì¼ ì¼ì • ìˆ˜ì •
- `PUT /api/recurring-events/:repeatId` - ì „ì²´ ë°˜ë³µ ì¼ì • ìˆ˜ì •
- `DELETE /api/events/:id` - ë‹¨ì¼ ì¼ì • ì‚­ì œ
- `DELETE /api/recurring-events/:repeatId` - ì „ì²´ ë°˜ë³µ ì¼ì • ì‚­ì œ

**ì½ê¸° ìˆœì„œ**: â­ **2ìˆœìœ„**

---

### 2. ë°˜ë³µ ìƒì„± ì•Œê³ ë¦¬ì¦˜
**íŒŒì¼**: [`02-repeat-generation-algorithm.md`](./02-repeat-generation-algorithm.md)

- `generateRecurringEvents()` í•¨ìˆ˜ ëª…ì„¸
- ë‚ ì§œ ê³„ì‚° ë¡œì§
  - ë§¤ì¼ ë°˜ë³µ: `generateDailyDates()`
  - ë§¤ì£¼ ë°˜ë³µ: `generateWeeklyDates()`
  - ë§¤ì›” ë°˜ë³µ: `generateMonthlyDates()`
  - ë§¤ë…„ ë°˜ë³µ: `generateYearlyDates()`
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (`formatDate`, `getDaysInMonth`, `isLeapYear`)

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:
- ë°˜ë³µ ìœ í˜•ë³„ ë‚ ì§œ ìƒì„±
- ì¢…ë£Œì¼ ê²€ì¦
- repeat.id ìƒì„± ë° í• ë‹¹

**ì½ê¸° ìˆœì„œ**: â­â­ **3ìˆœìœ„** (í•µì‹¬)

---

### 3. íŠ¹ìˆ˜ ì¼€ì´ìŠ¤
**íŒŒì¼**: [`03-special-cases.md`](./03-special-cases.md)

- **ë§¤ì›” 31ì¼ ë°˜ë³µ**: 31ì¼ì´ ìˆëŠ” ë‹¬ì—ë§Œ ìƒì„±
  - ìƒì„±: 1ì›”, 3ì›”, 5ì›”, 7ì›”, 8ì›”, 10ì›”, 12ì›”
  - ì œì™¸: 2ì›”, 4ì›”, 6ì›”, 9ì›”, 11ì›”

- **ë§¤ì›” 30ì¼ ë°˜ë³µ**: 30ì¼ ì´ìƒì¸ ë‹¬ì—ë§Œ ìƒì„±
  - ì œì™¸: 2ì›”ë§Œ

- **ìœ¤ë…„ 2ì›” 29ì¼ ë§¤ë…„ ë°˜ë³µ**: ìœ¤ë…„ì—ë§Œ ìƒì„±
  - ìœ¤ë…„ ì¡°ê±´: `(year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)`

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:
- 31ì¼ ë§¤ì›” ë°˜ë³µ (7ê°œì›”ë§Œ ìƒì„±)
- 30ì¼ ë§¤ì›” ë°˜ë³µ (11ê°œì›” ìƒì„±)
- ìœ¤ë…„ 2ì›” 29ì¼ ë§¤ë…„ ë°˜ë³µ
- ê° ì›”ì˜ ì¼ìˆ˜ ì°¸ì¡° í…Œì´ë¸”

**ì½ê¸° ìˆœì„œ**: â­â­â­ **3ìˆœìœ„** (í•µì‹¬ + ë³µì¡)

---

### 4. ë‹¨ì¼/ì „ì²´ ìˆ˜ì • ë° ì‚­ì œ
**íŒŒì¼**: [`04-single-all-operations.md`](./04-single-all-operations.md)

- ì‚¬ìš©ì í”Œë¡œìš° (ë‹¤ì´ì–¼ë¡œê·¸)
- **ë‹¨ì¼ ìˆ˜ì •**: ì„ íƒí•œ ì¼ì •ë§Œ ìˆ˜ì •, `repeat.type = 'none'`ìœ¼ë¡œ ë³€ê²½
- **ì „ì²´ ìˆ˜ì •**: ê°™ì€ `repeat.id`ì˜ ëª¨ë“  ì¼ì • ìˆ˜ì •
- **ë‹¨ì¼ ì‚­ì œ**: ì„ íƒí•œ ì¼ì •ë§Œ ì‚­ì œ
- **ì „ì²´ ì‚­ì œ**: ê°™ì€ `repeat.id`ì˜ ëª¨ë“  ì¼ì • ì‚­ì œ

**êµ¬í˜„ í•¨ìˆ˜**:
- `updateSingleEvent()`
- `updateAllEvents()`
- `deleteSingleEvent()`
- `deleteAllEvents()`

**ì½ê¸° ìˆœì„œ**: â­â­ **4ìˆœìœ„**

---

## ğŸ”„ ì½ê¸° ìˆœì„œ ì¶”ì²œ

### 1ë‹¨ê³„: TDD ì´í•´
```
00-tdd-workflow.md
```
TDD í”„ë¡œì„¸ìŠ¤ì™€ ëª…ì„¸ ì‘ì„± ì›ì¹™ì„ ì´í•´í•©ë‹ˆë‹¤.

### 2ë‹¨ê³„: ë°ì´í„° êµ¬ì¡° íŒŒì•…
```
01-repeat-api-spec.md
```
API ì¸í„°í˜ì´ìŠ¤ì™€ ë°ì´í„° íƒ€ì…ì„ íŒŒì•…í•©ë‹ˆë‹¤.

### 3ë‹¨ê³„: í•µì‹¬ ì•Œê³ ë¦¬ì¦˜
```
02-repeat-generation-algorithm.md
03-special-cases.md
```
ë°˜ë³µ ì¼ì • ìƒì„± ë¡œì§ê³¼ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ë¥¼ ì´í•´í•©ë‹ˆë‹¤.

### 4ë‹¨ê³„: ì‚¬ìš©ì ì¸í„°ë™ì…˜
```
04-single-all-operations.md
```
ìˆ˜ì •/ì‚­ì œ í”Œë¡œìš°ì™€ UI ë¡œì§ì„ íŒŒì•…í•©ë‹ˆë‹¤.

---

## ğŸ¯ ëª…ì„¸ í™œìš©ë²•

### TDD ê°œë°œ ì‹œ

```bash
# 1. ëª…ì„¸ ì½ê¸°
cat specs/02-repeat-generation-algorithm.md

# 2. í…ŒìŠ¤íŠ¸ ì‘ì„± (RED)
# src/__tests__/unit/hard.repeatUtils.spec.ts

# 3. ìµœì†Œ êµ¬í˜„ (GREEN)
# src/utils/repeatUtils.ts

# 4. ë¦¬íŒ©í† ë§ (REFACTOR)
# ì½”ë“œ ê°œì„  ë° ìµœì í™”
```

### ëª…ì„¸ â†’ í…ŒìŠ¤íŠ¸ ë³€í™˜ ì˜ˆì‹œ

**ëª…ì„¸**:
```
Given: startDate = '2025-01-31', endDate = '2025-06-30'
When: generateMonthlyDates() í˜¸ì¶œ
Then: ['2025-01-31', '2025-03-31', '2025-05-31']
```

**í…ŒìŠ¤íŠ¸ ì½”ë“œ**:
```typescript
it('31ì¼ ë§¤ì›” ë°˜ë³µì€ 31ì¼ì´ ìˆëŠ” ë‹¬ì—ë§Œ ìƒì„±', () => {
  // Given
  const startDate = '2025-01-31';
  const endDate = '2025-06-30';

  // When
  const result = generateMonthlyDates(startDate, endDate);

  // Then
  expect(result).toEqual([
    '2025-01-31',
    '2025-03-31',
    '2025-05-31'
  ]);
});
```

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

| ì¹´í…Œê³ ë¦¬ | ëª©í‘œ ì»¤ë²„ë¦¬ì§€ | ìš°ì„ ìˆœìœ„ |
|----------|--------------|----------|
| ë°˜ë³µ ìƒì„± ì•Œê³ ë¦¬ì¦˜ | 100% | â­â­â­ ë†’ìŒ |
| íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ (31ì¼, ìœ¤ë…„) | 100% | â­â­â­ ë†’ìŒ |
| ë‹¨ì¼/ì „ì²´ ìˆ˜ì • | 90% | â­â­ ì¤‘ê°„ |
| ë‹¨ì¼/ì „ì²´ ì‚­ì œ | 90% | â­â­ ì¤‘ê°„ |
| API í˜¸ì¶œ (MSW) | 80% | â­ ë‚®ìŒ |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ íŒŒì¼ ë§¤í•‘

| ëª…ì„¸ ë¬¸ì„œ | í…ŒìŠ¤íŠ¸ íŒŒì¼ | êµ¬í˜„ íŒŒì¼ |
|-----------|-------------|-----------|
| 01-repeat-api-spec.md | medium.useEventOperations.spec.ts | hooks/useEventOperations.ts |
| 02-repeat-generation-algorithm.md | hard.repeatUtils.spec.ts | utils/repeatUtils.ts |
| 03-special-cases.md | hard.repeatUtils.spec.ts | utils/repeatUtils.ts |
| 04-single-all-operations.md | hard.repeatUtils.spec.ts | hooks/useEventOperations.ts |

---

## ğŸ’¡ ëª…ì„¸ ì‘ì„± ì›ì¹™

### 1. ëª…í™•ì„± (Clarity)
- ëª¨í˜¸í•œ í‘œí˜„ ê¸ˆì§€
- êµ¬ì²´ì ì¸ ìˆ«ìì™€ ì˜ˆì‹œ í¬í•¨
- Given-When-Then êµ¬ì¡° ì‚¬ìš©

### 2. ì‹¤í–‰ ê°€ëŠ¥ì„± (Executable)
- ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ëŠ” í…ŒìŠ¤íŠ¸ë¡œ ë³€í™˜ ê°€ëŠ¥
- ê²€ì¦ ê°€ëŠ¥í•œ ê²°ê³¼ ì •ì˜

### 3. ì™„ì „ì„± (Completeness)
- ì •ìƒ ì¼€ì´ìŠ¤ (Happy Path)
- ì˜ˆì™¸ ì¼€ì´ìŠ¤ (Sad Path)
- ê²½ê³„ ì¡°ê±´ (Edge Case)

### 4. ì¶”ì  ê°€ëŠ¥ì„± (Traceability)
- ê° ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ë§¤í•‘
- êµ¬í˜„ íŒŒì¼ ì°¸ì¡° ëª…ì‹œ

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- **ì„¤ê³„ ë¬¸ì„œ**: `../design.md`
- **í”„ë¡œì íŠ¸ ê°€ì´ë“œ**: `../CLAUDE.md`
- **TDD ì—ì´ì „íŠ¸**: `../.claude/agents/README.md`
- **ì½”ë“œ ë¦¬ë·° ê·œì¹™**: `../.claude/agents/CODE_REVIEW_RULES.md`

---

## ğŸ“ ëª…ì„¸ ì—…ë°ì´íŠ¸ ê°€ì´ë“œ

### ëª…ì„¸ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°

1. **ìš”êµ¬ì‚¬í•­ ë³€ê²½**
   - ëª…ì„¸ ë¬¸ì„œ ìˆ˜ì •
   - ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—…ë°ì´íŠ¸
   - êµ¬í˜„ ì½”ë“œ ìˆ˜ì •

2. **ë²„ê·¸ ë°œê²¬**
   - ëª…ì„¸ì— ëˆ„ë½ëœ ì¼€ì´ìŠ¤ ì¶”ê°€
   - í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€
   - ë²„ê·¸ ìˆ˜ì •

3. **ë¦¬íŒ©í† ë§**
   - ëª…ì„¸ëŠ” ìœ ì§€ (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)
   - í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼ ìœ ì§€
   - êµ¬í˜„ë§Œ ê°œì„ 

---

## âœ… ê°œë°œ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ëª¨ë“  ëª…ì„¸ ë¬¸ì„œ ì½ê¸°
- [ ] TDD ì›Œí¬í”Œë¡œìš° ì´í•´
- [ ] Given-When-Then íŒ¨í„´ ìˆ™ì§€
- [ ] í…ŒìŠ¤íŠ¸ íŒŒì¼ ìœ„ì¹˜ í™•ì¸ (`src/__tests__/unit/`)
- [ ] êµ¬í˜„ íŒŒì¼ ìœ„ì¹˜ í™•ì¸ (`src/utils/`, `src/hooks/`)
- [ ] ê¸°ì¡´ ì½”ë“œ êµ¬ì¡° íŒŒì•… (CLAUDE.md ì°¸ì¡°)

---

**ëª…ì„¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í’ˆì§ˆ ë†’ì€ ì½”ë“œë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤! ğŸš€**
